cmake_minimum_required(VERSION 2.8)
project(cog C)
SET(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/CMake" ${CMAKE_MODULE_PATH})
find_package(SDL REQUIRED)
find_package(SDL_image REQUIRED)
find_package(SDL_mixer REQUIRED)
find_package(SDL_ttf REQUIRED)
find_package(GLEW REQUIRED)
find_package(OpenGL REQUIRED)
find_package(ALUT REQUIRED)
find_package(OpenAL REQUIRED)
add_definitions(-std=c99 -Werror -Wall)

set(CMAKE_BUILD_TYPE Debug)

add_library(cog cog.c cog_map.c cog_core.c cog_list.c cog_state.c cog_test.c)
target_link_libraries(cog ${SDL_LIBRARY} ${SDLIMAGE_LIBRARY} ${SDLTTF_LIBRARY} ${GLEW_LIBRARY} ${OPENGL_LIBRARY} m ${ALUT_LIBRARY} ${OPENAL_LIBRARY})

set(TEST_DIR ../tests)
include_directories("${CMAKE_SOURCE_DIR}" "${TEST_DIR}")

add_executable(test ${TEST_DIR}/test.c)
target_link_libraries(test cog)
add_executable(testanim ${TEST_DIR}/testanim.c)
target_link_libraries(testanim cog)
add_executable(testsound ${TEST_DIR}/testsound.c)
target_link_libraries(testsound cog)
add_executable(testtext ${TEST_DIR}/testtext.c)
target_link_libraries(testtext cog)
add_executable(testlist ${TEST_DIR}/testlist.c)
target_link_libraries(testlist cog)
add_executable(teststate ${TEST_DIR}/teststate.c)
target_link_libraries(teststate cog)
